# Crabrace Configuration File Example
# Copy this file to config.toml and customize as needed

[server]
# Host to bind to (default: "0.0.0.0")
host = "0.0.0.0"

# Port to bind to (default: 8080)
port = 8080

# Enable HTTP compression (default: true)
compression = true

# Request timeout in seconds (default: 30)
timeout_seconds = 30

[logging]
# Log level: trace, debug, info, warn, error (default: "info")
level = "info"

# Use JSON format for structured logging (default: false)
json_format = false

# Show target (module path) in logs (default: false)
show_target = false

[metrics]
# Enable Prometheus metrics endpoint (default: true)
enabled = true

# Metrics endpoint path (default: "/metrics")
path = "/metrics"

[security.cors]
# Enable CORS (default: true)
enabled = true

# Allowed origins (use ["*"] for any origin)
allowed_origins = ["*"]

# Allowed HTTP methods
allowed_methods = ["GET", "POST", "OPTIONS"]

# Allowed headers
allowed_headers = ["Content-Type", "Authorization"]

# Max age for CORS preflight cache in seconds (default: 3600)
max_age_seconds = 3600

[security.rate_limit]
# Enable rate limiting (default: true)
enabled = true

# Number of requests allowed per period (default: 100)
requests_per_period = 100

# Period in seconds (default: 60)
period_seconds = 60

[security.headers]
# Enable security headers (default: true)
enabled = true

# Enable HSTS (HTTP Strict Transport Security)
hsts = true

# Enable X-Content-Type-Options: nosniff
content_type_options = true

# Enable X-Frame-Options: DENY
frame_options = true

# Enable X-XSS-Protection: 1; mode=block
xss_protection = true
